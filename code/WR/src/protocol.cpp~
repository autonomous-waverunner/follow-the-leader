#include "protocol.h"

uint32_t calculate_crc(char* msg, size_t sz) {
  uint32_t sum = 0;
  
  for (int i = 0; i < sz; i++)
    sum += msg[i];

  return sum;
}

bool verify_crc(char* msg, size_t sz) {
  uint32_t crc = *((uint32_t*) (msg + sz));
  return calculate_crc(msg, sz - 1) == *((uint32_t*) (msg + sz - 1));
}
